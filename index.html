<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Package R pour Communiquer avec une Api Grist • gristapi</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Package R pour Communiquer avec une Api Grist">
<meta property="og:description" content="Ce package vous permet de de communiquer avec une Api Grist.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">gristapi</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/grist_com_en.html">docs.getgrist.com (EN)</a>
    </li>
    <li>
      <a href="articles/grist_gouv_fr.html">grist.numerique.gouv.fr (FR)</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/spyrales/gristapi/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="gristapi-">gristapi <img src="reference/figures/gristapi_logo.png" align="right" width="139px"><a class="anchor" aria-label="anchor" href="#gristapi-"></a>
</h1></div>
<!-- badges: start -->

<p>The goal of this package is to communicate from R with a Grist API.</p>
<p>he package provides an R6 class to connect to a Grist document (which contains multiple tables), and a set of functions to interact with the document.</p>
<p>This work follows the Grist API references <a href="https://support.getgrist.com/api/" class="external-link uri">https://support.getgrist.com/api/</a> as of July 2025.</p>
<p>This project is currently under development; feel free to submit issues!</p>
<hr>
<p>L’objectif de ce package est de communiquer depuis R avec une API Grist.</p>
<p>Le paquet fournit une classe R6 pour se connecter à un document Grist (qui contient plusieurs tables), et, un ensemble de fonctions pour échanger avec le document.</p>
<p>Ce travail suit les références de l’API Grist <a href="https://support.getgrist.com/api/" class="external-link uri">https://support.getgrist.com/api/</a> de juillet 2025.</p>
<p>Projet en développement, n’hésitez pas à faire des tickets !</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the current version of gristapi from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("remotes")</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"spyrales/gristapi"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="documentation">Documentation<a class="anchor" aria-label="anchor" href="#documentation"></a>
</h2>
<p>Presentation site of the package and its functions <a href="https://spyrales.github.io/gristapi/" class="external-link uri">https://spyrales.github.io/gristapi/</a></p>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>This is a basic example which shows you how to solve a common problem:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/spyrales/gristapi" class="external-link">gristapi</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressMessages</a></span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: le package 'dplyr' a été compilé avec la version R 4.4.3</span></span>
<span><span class="co"># Working only if Env Var "GRIST_KEY" and "GRIST_DOC_TEST" are defined</span></span>
<span></span>
<span><span class="co"># Create a New Api Object on one grist document</span></span>
<span><span class="va">api</span> <span class="op">&lt;-</span> <span class="va"><a href="reference/grist_api.html">grist_api</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span></span>
<span>  server <span class="op">=</span> <span class="st">'https://grist.numerique.gouv.fr'</span>, </span>
<span>  api_key <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"GRIST_KEY"</span><span class="op">)</span>, </span>
<span>  doc_id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"GRIST_DOC_TEST"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># Create a table with data</span></span>
<span><span class="fu"><a href="reference/add_records.html">add_records</a></span><span class="op">(</span><span class="va">api</span>,</span>
<span>  table_id <span class="op">=</span> <span class="st">"Mtcars"</span>,</span>
<span>  record_dicts <span class="op">=</span> <span class="va">mtcars</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/row.names.html" class="external-link">row.names</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/relocate.html" class="external-link">relocate</a></span><span class="op">(</span><span class="va">names</span><span class="op">)</span>,</span>
<span>  create_or_replace <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>  <span class="op">)</span></span>
<span><span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25</span></span>
<span><span class="co">#&gt; [26] 26 27 28 29 30 31 32</span></span>
<span></span>
<span><span class="co"># Call all data from a table</span></span>
<span><span class="fu"><a href="reference/fetch_table.html">fetch_table</a></span><span class="op">(</span><span class="va">api</span>,<span class="st">"Mtcars"</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 32 × 13</span></span>
<span><span class="co">#&gt;       id names   mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb</span></span>
<span><span class="co">#&gt;    &lt;int&gt; &lt;chr&gt; &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;</span></span>
<span><span class="co">#&gt;  1     1 Mazd…  21       6  160    110  3.9   2.62  16.5     0     1     4     4</span></span>
<span><span class="co">#&gt;  2     2 Mazd…  21       6  160    110  3.9   2.88  17.0     0     1     4     4</span></span>
<span><span class="co">#&gt;  3     3 Dats…  22.8     4  108     93  3.85  2.32  18.6     1     1     4     1</span></span>
<span><span class="co">#&gt;  4     4 Horn…  21.4     6  258    110  3.08  3.22  19.4     1     0     3     1</span></span>
<span><span class="co">#&gt;  5     5 Horn…  18.7     8  360    175  3.15  3.44  17.0     0     0     3     2</span></span>
<span><span class="co">#&gt;  6     6 Vali…  18.1     6  225    105  2.76  3.46  20.2     1     0     3     1</span></span>
<span><span class="co">#&gt;  7     7 Dust…  14.3     8  360    245  3.21  3.57  15.8     0     0     3     4</span></span>
<span><span class="co">#&gt;  8     8 Merc…  24.4     4  147.    62  3.69  3.19  20       1     0     4     2</span></span>
<span><span class="co">#&gt;  9     9 Merc…  22.8     4  141.    95  3.92  3.15  22.9     1     0     4     2</span></span>
<span><span class="co">#&gt; 10    10 Merc…  19.2     6  168.   123  3.92  3.44  18.3     1     0     4     4</span></span>
<span><span class="co">#&gt; # ℹ 22 more rows</span></span>
<span></span>
<span><span class="co"># Synchronize a table with a dataframe (update or add)</span></span>
<span><span class="co"># Preparing the dataframe</span></span>
<span><span class="va">new_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/fetch_table.html">fetch_table</a></span><span class="op">(</span><span class="va">api</span>,<span class="st">"Mtcars"</span>, filters <span class="op">=</span> <span class="st">'filter={"cyl": [8]}'</span><span class="op">)</span></span>
<span><span class="va">new_data</span> <span class="op">&lt;-</span> <span class="va">new_data</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>carb <span class="op">=</span> <span class="fl">4</span>, names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">names</span> <span class="op">==</span><span class="st">'Camaro Z28'</span>, <span class="st">'Camaro Z28 - custom'</span>, <span class="va">names</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">id</span><span class="op">)</span></span>
<span><span class="va">new_data</span></span>
<span><span class="co">#&gt; # A tibble: 14 × 12</span></span>
<span><span class="co">#&gt;    names         mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;       &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 Hornet Spo…  18.7     8  360    175  3.15  3.44  17.0     0     0     3     4</span></span>
<span><span class="co">#&gt;  2 Duster 360   14.3     8  360    245  3.21  3.57  15.8     0     0     3     4</span></span>
<span><span class="co">#&gt;  3 Merc 450SE   16.4     8  276.   180  3.07  4.07  17.4     0     0     3     4</span></span>
<span><span class="co">#&gt;  4 Merc 450SL   17.3     8  276.   180  3.07  3.73  17.6     0     0     3     4</span></span>
<span><span class="co">#&gt;  5 Merc 450SLC  15.2     8  276.   180  3.07  3.78  18       0     0     3     4</span></span>
<span><span class="co">#&gt;  6 Cadillac F…  10.4     8  472    205  2.93  5.25  18.0     0     0     3     4</span></span>
<span><span class="co">#&gt;  7 Lincoln Co…  10.4     8  460    215  3     5.42  17.8     0     0     3     4</span></span>
<span><span class="co">#&gt;  8 Chrysler I…  14.7     8  440    230  3.23  5.34  17.4     0     0     3     4</span></span>
<span><span class="co">#&gt;  9 Dodge Chal…  15.5     8  318    150  2.76  3.52  16.9     0     0     3     4</span></span>
<span><span class="co">#&gt; 10 AMC Javelin  15.2     8  304    150  3.15  3.44  17.3     0     0     3     4</span></span>
<span><span class="co">#&gt; 11 Camaro Z28…  13.3     8  350    245  3.73  3.84  15.4     0     0     3     4</span></span>
<span><span class="co">#&gt; 12 Pontiac Fi…  19.2     8  400    175  3.08  3.84  17.0     0     0     3     4</span></span>
<span><span class="co">#&gt; 13 Ford Pante…  15.8     8  351    264  4.22  3.17  14.5     0     1     5     4</span></span>
<span><span class="co">#&gt; 14 Maserati B…  15       8  301    335  3.54  3.57  14.6     0     1     5     4</span></span>
<span><span class="co"># Launching synchronization on the "names" key</span></span>
<span><span class="fu"><a href="reference/sync_table.html">sync_table</a></span><span class="op">(</span><span class="va">api</span>,<span class="st">"Mtcars"</span>, <span class="va">new_data</span>, key_cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"names"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span><span class="co"># One entry was added, the other 13 were updated</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">tail</a></span><span class="op">(</span><span class="fu"><a href="reference/fetch_table.html">fetch_table</a></span><span class="op">(</span><span class="va">api</span>,<span class="st">"Mtcars"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 6 × 13</span></span>
<span><span class="co">#&gt;      id names    mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb</span></span>
<span><span class="co">#&gt;   &lt;int&gt; &lt;chr&gt;  &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;</span></span>
<span><span class="co">#&gt; 1    28 Lotus…  30.4     4  95.1   113  3.77  1.51  16.9     1     1     5     2</span></span>
<span><span class="co">#&gt; 2    29 Ford …  15.8     8 351     264  4.22  3.17  14.5     0     1     5     4</span></span>
<span><span class="co">#&gt; 3    30 Ferra…  19.7     6 145     175  3.62  2.77  15.5     0     1     5     6</span></span>
<span><span class="co">#&gt; 4    31 Maser…  15       8 301     335  3.54  3.57  14.6     0     1     5     4</span></span>
<span><span class="co">#&gt; 5    32 Volvo…  21.4     4 121     109  4.11  2.78  18.6     1     1     4     2</span></span>
<span><span class="co">#&gt; 6    33 Camar…  13.3     8 350     245  3.73  3.84  15.4     0     0     3     4</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="acknowledgements">Acknowledgements<a class="anchor" aria-label="anchor" href="#acknowledgements"></a>
</h2>
<p>Thanks to <a href="https://github.com/gristlabs/py_grist_api" class="external-link">py_grist_api</a> by Grist Labs and <a href="https://forge.ird.fr/phim/cunnac/gristr" class="external-link">gristr</a> by Sebastien Cunnac, which provided the basis of inspiration for this work.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/spyrales/gristapi/" class="external-link">Browse source code</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>EUPL (&gt;= 1.2) | file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing gristapi</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Edouard Morin <br><small class="roles"> Author, maintainer </small>   </li>
<li>Juliette ENGELAERE-LEFEBVRE <br><small class="roles"> Author </small>   </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/spyrales/gristapi/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/spyrales/gristapi/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://github.com/spyrales/gristapi/blob/main/DESCRIPTION" class="external-link"><img src="https://img.shields.io/github/r-package/v/spyrales/gristapi?label=Version" alt="Version"></a></li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Edouard Morin, Juliette ENGELAERE-LEFEBVRE.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

      </footer>
</div>






  </body>
</html>
